---
layout: post
title: May 22nd TIL
category: TIL
tags: [SQL]
---
![hm](/images/TILIMAGE.jpg)

## 𝑺𝑻𝑼𝑫𝒀

### codeit SQL 강의

지난 시간 복습  
* SELECT * FROM member WHERE age = 20 OR age = 30 OR age = 40;  
를 요약 할 때에는 ```IN``` 을 쓰면 됨

▶ SELECT * FROM member WHERE age IN (20, 30, 40);

#### 날짜 관련 함수
자주 헷갈리는 부분이라 다시 봐야할 것 같다.

**연도, 월, 일 추출하기**  
```DATE``` 타입의 값에서 연도, 월, 일만 따로 추출하는 방법 :
1. YEAR(birthday) : birthday 라는 테이블에서 연도만 추출하는 것
2. MONTH(sign_up_day) IN (6,7,8): 6월 7월 8월 에 가입한 회원들을 조회하는 것
3. DAYOFMONTH(sign_up_day) BETWEEN (15 AND 31): 15일 에서 31일 사이에 가입한 유저를 추출하는 것.

**날짜 간의 차이를 구하기**  
* ```DATEDIFF``` 는 날짜 A - 날짜 B 를 계산해서 차이 일수를 알려줌
* ```CURDATE``` 는 오늘 날짜를 기준으로 차이 일 수를 알려줌
* ```DATE_ADD()``` ```DATE_SUB()``` 날짜 더하기/날짜 빼기


#### 문자열 패턴

* ```LIKE``` : 문자열 패턴 매칭 조건을 걸기 위해 사용되는 키워드
* ```%``` : 임의의 길의를 가진 문자열(0자도 포함)
* ```_``` : 한 자리의 문자
* ```BINARY``` : 문자열 비교할 때 대소문자 구별하고 싶은 경우

문자로서의 '%'을 사용하려면 백슬래쉬 \ 를 넣어주면 됨   
이처럼 원래 특정 의미를 가진 문자를 특정 의미가 아니라, 일반적인 문자처럼 취급 하는 행위를 **이스케이핑escaping** 이라고 함.


#### 데이터 정렬
```INT``` 타입의 데이터 정렬과 ```TEXT``` 타입의 데이터 정렬 방식은 다르다.   
```INT``` 값은 숫자의 대소를 기준으로 정렬이 수행되지만, ```TEXT``` 타입의 값은 숫자의 대소가 아니라 문자의 순서를 비교해서 정렬이 수행됨

**정렬된 데이터에서 일부만 추려보기**  
* ```LIMIT``` : 이후 숫자를 쓰면 해당 숫자 만큼의 데이터만 출력
* 숫자는 0부터 시작한다는 것을 명심할 것.   
* ```CAST``` : TEXT 타입의 컬럼을 다른 데이터 타입으로 일시적으로 변경해주는 함


> SQL 문법 상  FROM - WHERE - ORDER BY - LIMIT 순으로 키워드를 써야 함. LIMIT 은 가장 마지막에 쓰는 문법

#### 실습에서 틀린 부분

* ORDER BY 함수를 쓸 때, 연속적으로 정렬을 하고 싶으면 ```,``` 콤마를 사용하기.
* ORDER BY 함수는 한 번만 사용하면 됨
